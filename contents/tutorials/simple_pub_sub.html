<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8" /><meta name="generator" content="Docutils 0.17.1: http://docutils.sourceforge.net/" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Writing a simple publisher and subscriber &mdash; comm_lib  documentation</title>
      <link rel="stylesheet" href="../../_static/pygments.css" type="text/css" />
      <link rel="stylesheet" href="../../_static/css/theme.css" type="text/css" />
      <link rel="stylesheet" href="../../_static/graphviz.css" type="text/css" />
  <!--[if lt IE 9]>
    <script src="../../_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
        <script data-url_root="../../" id="documentation_options" src="../../_static/documentation_options.js"></script>
        <script src="../../_static/jquery.js"></script>
        <script src="../../_static/underscore.js"></script>
        <script src="../../_static/doctools.js"></script>
    <script src="../../_static/js/theme.js"></script>
    <link rel="index" title="Index" href="../../genindex.html" />
    <link rel="search" title="Search" href="../../search.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
            <a href="../../index.html" class="icon icon-home"> comm_lib
          </a>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <p class="caption" role="heading"><span class="caption-text">Concepts</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../concepts/index.html">Concepts</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Full API Reference</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../full_reference/index.html">Full API Reference</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../../index.html">comm_lib</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="../../index.html" class="icon icon-home"></a> &raquo;</li>
      <li>Writing a simple publisher and subscriber</li>
      <li class="wy-breadcrumbs-aside">
            <a href="../../_sources/contents/tutorials/simple_pub_sub.rst.txt" rel="nofollow"> View page source</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section id="writing-a-simple-publisher-and-subscriber">
<h1>Writing a simple publisher and subscriber<a class="headerlink" href="#writing-a-simple-publisher-and-subscriber" title="Permalink to this headline"></a></h1>
<p>The three important entities in DDS are : Domain Participant, Publisher and Subscriber.</p>
<p>Each individual application has one domain participant. It is reposible for connecting
to the netwrok, finfing other nodes, etc. Publisher transmit data of a given message type
and topic name. Subscribers initialized with the same message type and topic name
can receive the data. All publishers and subscribers in an application must register to
the domain participant</p>
</section>
<section id="writing-a-simple-publisher">
<h1>Writing a simple publisher<a class="headerlink" href="#writing-a-simple-publisher" title="Permalink to this headline"></a></h1>
<p>Let us create a publisher that sends messages of type position:</p>
<div class="highlight-c++ notranslate"><div class="highlight"><pre><span></span><span class="cp">#include</span><span class="w"> </span><span class="cpf">&quot;PositionPubSubTypes.h&quot;</span><span class="cp"></span>
<span class="cp">#include</span><span class="w"> </span><span class="cpf">&quot;default_participant.h&quot;</span><span class="cp"></span>
<span class="cp">#include</span><span class="w"> </span><span class="cpf">&quot;default_publisher.h&quot;</span><span class="cp"></span>
<span class="cp">#include</span><span class="w"> </span><span class="cpf">&quot;geometry_msgs/msgs/Position.h&quot;</span><span class="cp"></span>
<span class="cp">#include</span><span class="w"> </span><span class="cpf">&lt;chrono&gt;</span><span class="cp"></span>
</pre></div>
</div>
<p>int main() {</p>
<blockquote>
<div><p>// Create participant. Arguments: Domain id, Name
DefaultParticipant dp(0, “sample_participant”);</p>
<p>// Create publisher with msg type and topic name
DDSPublisher position_pub(idl_msg::PositionPubSubType(), “position”,</p>
<blockquote>
<div><p>dp.participant());</p>
</div></blockquote>
<p>// create message of position type
cpp_msg::Position pos_msg;</p>
<p>for (int i = 0; i &lt; 10; i++) {</p>
<blockquote>
<div><p>pos_msg.x = i + 1;
pos_msg.y = i - 1;
pos_msg.z = i;</p>
<p>position_pub.publish(pos_msg);
std::this_thread::sleep_for(std::chrono::milliseconds(250));</p>
</div></blockquote>
<p>}</p>
</div></blockquote>
<p>}</p>
</section>


           </div>
          </div>
          <footer>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2021, sarath_suresh.</p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>